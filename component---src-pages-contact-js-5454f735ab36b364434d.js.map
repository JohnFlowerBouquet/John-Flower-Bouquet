{"version":3,"sources":["webpack:///./src/components/ContactForm.js","webpack:///./src/pages/contact.js","webpack:///./src/components/Page.js","webpack:///./node_modules/core-js/modules/es7.object.values.js","webpack:///./node_modules/core-js/modules/_object-to-array.js"],"names":["ContactForm","_Component","_this","_len","arguments","length","args","Array","_key","call","apply","this","concat","state","from_name","reply_to","message_html","_confirmation","formErrors","handleChange","_ref","_ref$target","target","value","name","setState","_ref2","clearState","checkForm","_this$state","test","String","toLowerCase","Object","values","some","error","handleSubmit","e","preventDefault","_this$state2","params","user_id","service_id","template_id","template_params","options","method","headers","Content-type","body","JSON","stringify","fetch","then","httpResponse","ok","text","Promise","reject","console","log","catch","inheritsLoose_default","prototype","render","_this$state$formError","react_default","a","createElement","className","styles","container","container__title","form","id","onSubmit","noValidate","form__label","form__input","type","onChange","required","form__textarea","rows","form__submit","Component","Page","components_ContactForm","React","react__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","react__WEBPACK_IMPORTED_MODULE_0___default","n","_Page_module_scss__WEBPACK_IMPORTED_MODULE_1__","_Page_module_scss__WEBPACK_IMPORTED_MODULE_1___default","children","page","string","dangerouslySetInnerHTML","__html","$export","$values","S","it","getKeys","toIObject","isEnum","f","module","exports","isEntries","key","O","keys","i","result","push"],"mappings":"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","file":"component---src-pages-contact-js-5454f735ab36b364434d.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport styles from \"./ContactForm.module.scss\";\r\n\r\nexport class ContactForm extends Component {\r\n  state = {\r\n    from_name: \"\",\r\n    reply_to: \"\",\r\n    message_html: \"\",\r\n    _confirmation: \"\",\r\n    formErrors: {\r\n      from_name: true,\r\n      reply_to: true,\r\n      message_html: true\r\n    }\r\n  };\r\n\r\n  handleChange = ({ target: { value, name } }) => {\r\n    this.setState(() => ({\r\n      [name]: value\r\n    }));\r\n  };\r\n  clearState = () => {\r\n    this.setState(() => ({\r\n      from_name: \"\",\r\n      reply_to: \"\",\r\n      message_html: \"\",\r\n      _confirmation: \"\",\r\n      formErrors: {\r\n        from_name: \"\",\r\n        reply_to: \"\",\r\n        message_html: \"\"\r\n      }\r\n    }));\r\n  };\r\n  checkForm = () => {\r\n    const { from_name, reply_to, message_html, _confirmation } = this.state;\r\n    let formErrors = this.state.formErrors;\r\n    if (_confirmation !== \"\") return false;\r\n    var re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n    formErrors.reply_to = re.test(String(reply_to).toLowerCase())\r\n      ? true\r\n      : false;\r\n    formErrors.from_name = from_name.length < 1 ? false : true;\r\n    formErrors.message_html = message_html.length < 10 ? false : true;\r\n    this.setState(() => ({\r\n      formErrors: formErrors\r\n    }));\r\n    return Object.values(formErrors).some(error => (error ? false : true));\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    const { from_name, reply_to, message_html, formErrors } = this.state;\r\n    if (this.checkForm(formErrors)) return;\r\n    let params = {\r\n      user_id: \"user_6TTXl04Vr6RgwEsQWdovC\",\r\n      service_id: \"default_service\",\r\n      template_id: \"template_GHFVjqkm\",\r\n      template_params: {\r\n        from_name: from_name,\r\n        reply_to: reply_to,\r\n        message_html: message_html\r\n      }\r\n    };\r\n    let headers = {\r\n      \"Content-type\": \"application/json\"\r\n    };\r\n\r\n    let options = {\r\n      method: \"POST\",\r\n      headers: headers,\r\n      body: JSON.stringify(params)\r\n    };\r\n    fetch(\"https://api.emailjs.com/api/v1.0/email/send\", options)\r\n      .then(httpResponse => {\r\n        if (httpResponse.ok) {\r\n          this.clearState();\r\n          console.log(\"Your mail is sent!\");\r\n        } else {\r\n          return httpResponse.text().then(text => Promise.reject(text));\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.log(\"Oops... \" + error);\r\n      });\r\n  };\r\n  render() {\r\n    const { from_name, reply_to, message_html } = this.state.formErrors;\r\n    return (\r\n      <div className={styles.container}>\r\n        <h1 className={styles.container__title}>Contact me:</h1>\r\n        <form\r\n          className={styles.form}\r\n          method=\"POST\"\r\n          id=\"form\"\r\n          onSubmit={this.handleSubmit}\r\n          noValidate\r\n        >\r\n          <span className={styles.form__label}>Name</span>\r\n          <input\r\n            className={styles.form__input}\r\n            type=\"text\"\r\n            name=\"from_name\"\r\n            value={this.state.value}\r\n            onChange={this.handleChange}\r\n            required\r\n          />\r\n          {!from_name && (\r\n            <span className={styles.error}>Please, enter your name!</span>\r\n          )}\r\n\r\n          <span className={styles.form__label}>Email</span>\r\n          <input\r\n            className={styles.form__input}\r\n            type=\"email\"\r\n            name=\"reply_to\"\r\n            required\r\n            value={this.state.value}\r\n            onChange={this.handleChange}\r\n          />\r\n          {!reply_to && (\r\n            <span className={styles.error}>\r\n              Please, enter your email correctly!\r\n            </span>\r\n          )}\r\n\r\n          <span className={styles.form__label}>Message</span>\r\n          <textarea\r\n            className={styles.form__textarea}\r\n            name=\"message_html\"\r\n            rows=\"8\"\r\n            value={this.state.value}\r\n            onChange={this.handleChange}\r\n            required\r\n          />\r\n          {!message_html && (\r\n            <span className={styles.error}>Minimum 20 characters ;)</span>\r\n          )}\r\n          <input\r\n            type=\"hidden\"\r\n            name=\"_confirmation\"\r\n            value={this.state.value}\r\n            onChange={this.handleChange}\r\n          />\r\n          <button id=\"submit\" className={styles.form__submit} type=\"submit\">\r\n            Send\r\n          </button>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ContactForm;\r\n","import React from \"react\";\r\nimport Page from \"../components/Page\";\r\nimport ContactForm from \"../components/ContactForm\";\r\n\r\nexport default class extends React.Component {\r\n  render() {\r\n    return (\r\n      <Page>\r\n        <ContactForm />\r\n      </Page>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport styles from \"./Page.module.scss\";\r\n\r\nconst Page = ({ children }) => {\r\n  return (\r\n    <div id={\"page\"} className={styles.page}>\r\n      {typeof children === \"string\" ? (\r\n        <div\r\n          className={styles.string}\r\n          dangerouslySetInnerHTML={{ __html: children }}\r\n        />\r\n      ) : (\r\n        <div>{children}</div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Page;\r\n","// https://github.com/tc39/proposal-object-values-entries\nvar $export = require('./_export');\nvar $values = require('./_object-to-array')(false);\n\n$export($export.S, 'Object', {\n  values: function values(it) {\n    return $values(it);\n  }\n});\n","var getKeys = require('./_object-keys');\nvar toIObject = require('./_to-iobject');\nvar isEnum = require('./_object-pie').f;\nmodule.exports = function (isEntries) {\n  return function (it) {\n    var O = toIObject(it);\n    var keys = getKeys(O);\n    var length = keys.length;\n    var i = 0;\n    var result = [];\n    var key;\n    while (length > i) if (isEnum.call(O, key = keys[i++])) {\n      result.push(isEntries ? [key, O[key]] : O[key]);\n    } return result;\n  };\n};\n"],"sourceRoot":""}