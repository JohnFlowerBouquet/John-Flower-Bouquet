function smoothScroll(target, duration) {
    var target = document.querySelector(target);
    var targetPos = target.getBoundingClientRect().top;
    var startPos = window.pageYOffset;
    var distance = targetPos;
    var startTime = null;

    function animate(currentTime) {
        if (startTime === null) startTime = currentTime;
        const timeElapsed = currentTime - startTime;
        var run = Math.easeInOutQuad(timeElapsed, startPos, distance, duration);
        window.scrollTo(0, run);
        if (timeElapsed < duration) requestAnimationFrame(animate);
    }

    Math.easeInOutQuad = function (t, b, c, d) {
        t /= d / 2;
        if (t < 1) return c / 2 * t * t + b;
        t--;
        return -c / 2 * (t * (t - 2) - 1) + b;
    };

    requestAnimationFrame(animate)
}

var projects = document.getElementById('projects');
projects.addEventListener('click', function () {
    smoothScroll('#project1', 1000);
});



window.addEventListener('scroll', fadeAway);
function fadeAway() {
    if (window.pageYOffset < window.innerHeight) {
        var target = document.querySelector('.header-container');
        var opacity = 1 - window.pageYOffset / 500;
        var height = - window.pageYOffset * 0.07;
        target.style.transform = `translateY(${height}px)`;
        //target.firstElementChild.style.opacity = `${opacity}`;
        Array.from(target.children).map(child => child.style.opacity = `${opacity}`);
    }

}